From 597f3fb4bfb7d4bab2a0eee38d7a281f03957c0c Mon Sep 17 00:00:00 2001
From: heeju Joo <heeju.joo@samsung.com>
Date: Fri, 6 Dec 2013 11:09:14 +0900
Subject: [PATCH] JQM-modify checkboxradio vmousecancel event process

Change-Id: I6be0aee55bdeb1264550e61810ca999535220fd1
---
 .../js/widgets/forms/checkboxradio.js              |   51 +++++++++++---------
 1 file changed, 28 insertions(+), 23 deletions(-)

diff --git a/libs/js/jquery-mobile-1.2.0/js/widgets/forms/checkboxradio.js b/libs/js/jquery-mobile-1.2.0/js/widgets/forms/checkboxradio.js
index f9a4b98..f241bd9 100644
--- a/libs/js/jquery-mobile-1.2.0/js/widgets/forms/checkboxradio.js
+++ b/libs/js/jquery-mobile-1.2.0/js/widgets/forms/checkboxradio.js
@@ -95,31 +95,10 @@ $.widget( "mobile.checkboxradio", $.mobile.widget, {
 				}
 			},
 			vmousecancel: function ( event ) {
-				self.refresh();
+				return;
 			},
 			vclick: function( event ) {
-				if ( input.is( ":disabled" ) ) {
-					event.preventDefault();
-					return;
-				}
-
-				self._cacheVals();
-
-				input.prop( "checked", inputtype === "radio" && true || !input.prop( "checked" ) );
-
-				// trigger click handler's bound directly to the input as a substitute for
-				// how label clicks behave normally in the browsers
-				// TODO: it would be nice to let the browser's handle the clicks and pass them
-				//       through to the associate input. we can swallow that click at the parent
-				//       wrapper element level
-				input.triggerHandler( 'click' );
-
-				// Input set for common radio buttons will contain all the radio
-				// buttons, but will not for checkboxes. clearing the checked status
-				// of other radios ensures the active button state is applied properly
-				self._getInputSet().not( input ).prop( "checked", false );
-
-				self._updateAll();
+				self._changeChecked( event );
 				return false;
 			}
 		});
@@ -158,6 +137,32 @@ $.widget( "mobile.checkboxradio", $.mobile.widget, {
 		this.refresh();
 	},
 
+	_changeChecked: function( event ) {
+		var input = this.element,
+			inputtype = input[0].type;
+
+		if ( input.is( ":disabled" ) ) {
+			event.preventDefault();
+			return;
+		}
+
+		this._cacheVals();
+		input.prop( "checked", inputtype === "radio" && true || !input.prop( "checked" ) );
+		// trigger click handler's bound directly to the input as a substitute for
+		// how label clicks behave normally in the browsers
+		// TODO: it would be nice to let the browser's handle the clicks and pass them
+		//       through to the associate input. we can swallow that click at the parent
+		//       wrapper element level
+		input.triggerHandler( 'click' );
+		// Input set for common radio buttons will contain all the radio
+		// buttons, but will not for checkboxes. clearing the checked status
+		// of other radios ensures the active button state is applied properly
+		this._getInputSet().not( input ).prop( "checked", false );
+
+		this._updateAll();
+		return false;
+	},
+
 	_cacheVals: function() {
 		this._getInputSet().each(function() {
 			$( this ).jqmData( "cacheVal", this.checked );
-- 
1.7.9.5

