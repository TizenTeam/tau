<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
	<title>Wearable UI</title>
    <link rel="stylesheet" href="../lib/tau/wearable/theme/default/tau.min.css">
    <link rel="stylesheet" media="all and (-tizen-geometric-shape: circle)" href="../lib/tau/wearable/theme/default/tau.circle.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
<div id="sectionChangerPage" class="ui-page">
	<style>
		#rightDrawerHandler {
			width:24px;
			height: 115px;
			position: absolute;
			top: 122px;
			right: 0;
			color: transparent;
			background-color: #a4a4a4;
			-webkit-mask-image: url(images/b_more_option.png);
			-webkit-mask-size: 18px 36px;
			-webkit-mask-repeat: no-repeat;
			-webkit-mask-position: 0 40px;
		}
		.sections,
		.options {
			text-align: center;
		}
	</style>
	<div id="sectionChanger" class="ui-content ui-section-changer">
		<div id="scroller">
			<section>
				<header id="sectionHeader1" class="ui-header">
					<h2 class="ui-title">Section 1</h2>
				</header>
				<div id = "sectionContent1" class="ui-content sections">
					Section 1
				</div>
			</section>
			<section>
				<header id="sectionHeader2" class="ui-header">
					<h2 class="ui-title">Section 2</h2>
				</header>
				<div id = "sectionContent2" class="ui-content sections">
					Section 2
				</div>
			</section>
			<section>
				<header id="sectionHeader3" class="ui-header">
					<h2 class="ui-title">Section 3</h2>
				</header>
				<div id = "sectionContent3" class="ui-content sections">
					Section 3
				</div>
			</section>
		</div>
	</div>


	<!-- Drawer Handlers -->
	<a id="rightDrawerHandler" href="#rightDrawer" class="drawer-handler">Right HAndler</a>

	<!-- Over View -->
	<div id="rightDrawer" class="ui-drawer" data-drawer-target="#sectionChangerPage" data-position="right" data-enable="true" data-drag-edge="1">
		<header id="rightClose" class="ui-header">
			<h2 class="ui-title">Click to Close</h2>
		</header>
		<div id="drawerSectionChanger" style="width:100%" class="ui-content ui-section-changer">
			<div>
				<section>
					<h3 class="options">More Option 1</h3>
				</section>
				<section>
					<h3 class="options">More Option 2</h3>
				</section>
				<section>
					<h3 class="options">More Option 3</h3>
				</section>
			</div>
		</div>
	</div>

	<script>
		(function(){
			var handlers = [].slice.call(document.getElementsByClassName("drawer-handler")),
					page = document.getElementById("sectionChangerPage"),
					sectionChanger = document.getElementById("sectionChanger"),
					drawerSectionChanger = document.getElementById("drawerSectionChanger"),
					drawerElements = [];

			page.addEventListener( "pagebeforeshow", function() {
				tau.widget.SectionChanger(sectionChanger, {
					circular: false,
					orientation: "horizontal",
					useBouncingEffect: false
				});
				tau.widget.SectionChanger(drawerSectionChanger, {
					circular: false,
					orientation: "horizontal",
					useBouncingEffect: false
				});
				handlers.forEach(function(handler) {
					var drawerElement = document.querySelector(handler.getAttribute("href")),
							drawer = tau.widget.Drawer(drawerElement);
					drawer.setDragHandler(handler);
					tau.event.on(handler, "touchstart touchend", function(e){
						if(drawer.getState().search(/settling/) === 0) {
							return;
						}
						switch (e.type) {
							case "touchstart":
								// open drawer
								drawer.transition(60);
								e.preventDefault();
								e.stopPropagation();
								break;
							case "touchend":
								drawer.close();
								break;
						}
					}, false);
					drawerElements.push(drawer);
				});

				document.getElementById("rightClose").addEventListener("click",function() {
					var drawerElement = tau.util.selectors.getClosestByClass(this, "ui-drawer"),
							drawer = tau.widget.Drawer(drawerElement);
					drawer.close();
				});
			});
		})();

	</script>
</div>
<script type="text/javascript" src="../lib/tau/wearable/js/tau.min.js"></script>
</body>
</html>
