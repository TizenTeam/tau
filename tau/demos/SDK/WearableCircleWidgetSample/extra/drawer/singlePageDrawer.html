<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
	<title>Drawer - Single Page</title>
	<link rel="stylesheet"  href="../../lib/tau/wearable/theme/circle/tau.css">
</head>
<body>
	<div id="drawerSinglePage" class="ui-page">
	<style>
		#spHeader {
			background-color: #EDD5B0;
		}
		#spHeader .ui-title {
			color: black;
		}
		#spContent {
			background-color: #f8866a;
		}
		#leftDrawerHandler {
			width:45px;
			height: 50px;
			position: absolute;
			top: 158px;
			text-indent: -9999px;
			background-color: #000080;
		}
		#rightDrawerHandler {
			width:45px;
			height: 50px;
			position: absolute;
			top: 158px;
			right: 0;
			text-indent: -9999px;
			background-color: #000080;
		}
	</style>
		<header id="spHeader" class="ui-header">
			<h2 class="ui-title">Drawer</h2>
		</header>
		<div id = "spContent" class="ui-content">
			Drawer
		</div>

		<!-- Drawer Handlers -->
		<a id="leftDrawerHandler" href="#leftDrawer" class="drawer-handler">Left Handler</a>
		<a id="rightDrawerHandler" href="#rightDrawer" class="drawer-handler">Right HAndler</a>

		<!-- More Option -->
		<div id="leftDrawer" class="ui-drawer" data-drawer-target="#drawerSinglePage" data-position="left" data-enable="true" data-drag-edge="1">
			<header class="ui-header">
				<h2 class="ui-title">Left Drawer</h2>
			</header>
			<div id="leftClose" class="ui-content">
				<p>Click Close</p>
			</div>
		</div>

		<!-- Over View -->
		<div id="rightDrawer" class="ui-drawer" data-drawer-target="#drawerSinglePage" data-position="right" data-enable="true" data-drag-edge="1">
			<header class="ui-header">
				<h2 class="ui-title">Right Drawer</h2>
			</header>
			<div class="ui-content">
				<ul>
					<li>List Item 1</li>
					<li>List Item 2</li>
					<li>List Item 3</li>
					<li>List Item 4</li>
					<li>List Item 5</li>
				</ul>
			</div>
			<footer class="ui-footer">
				<a href="#" class="ui-btn" id="rightClose">Close</a>
			</footer>
		</div>

	<script>
	(function(){
		var handlers = [].slice.call(document.getElementsByClassName("drawer-handler")),
			page = document.getElementById("drawerSinglePage"),
			drawerElements = [];

		page.addEventListener( "pagebeforeshow", function() {

			handlers.forEach(function(handler) {
				var drawerElement = document.querySelector(handler.getAttribute("href")),
					drawer = tau.widget.Drawer(drawerElement);
				drawer.setDragHandler(handler);
				tau.event.on(handler, "touchstart touchend", function(e) {
					if(drawer.getState().search(/settling/) === 0) {
						// In this case, you must use close method for drawer widget will be closed.
						return;
					}
					switch (e.type) {
						case "touchstart":
							// open drawer
							drawer.transition(60);
							e.preventDefault();
							e.stopPropagation();
							break;
						case "touchend":
							drawer.close();
							break;
					}
				}, false);
				drawerElements.push(drawer);
			});

			document.getElementById("leftClose").addEventListener("click",function() {
				var drawerElement = tau.util.selectors.getClosestByClass(this, "ui-drawer"),
						drawer = tau.widget.Drawer(drawerElement);
				drawer.close();
			});
			document.getElementById("rightClose").addEventListener("click",function() {
				var drawerElement = tau.util.selectors.getClosestByClass(this, "ui-drawer"),
						drawer = tau.widget.Drawer(drawerElement);
				drawer.close();
			});
		});
	})();

	</script>
	</div>
	<script type="text/javascript" src="../../lib/tau/wearable/js/tau.js"></script>
</body>
</html>
