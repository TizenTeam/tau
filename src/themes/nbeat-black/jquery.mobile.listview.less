/*
* jQuery Mobile Framework
* Copyright (c) jQuery Project
* Dual licensed under the MIT (MIT-LICENSE.txt) or GPL (GPL-LICENSE.txt) licenses.
*/

/*** less definitions ***/

@import "config.less";

// Basic
@list-font-size-main:	44 * @unit_base;
@list-font-size-sub:	32 * @unit_base;
@list-font-size-divider: 28 * @unit_base;	// NOTE: defined in dialogue group

@list-font-weight:		normal;

@list-li-height: 112 * @unit_base;
@list-li-padding-horizontal: 16 * @unit_base;
@list-li-divider-height: 32 * @unit_base;
@list-li-padding-horizontal: 16 * @unit_base;

// Bubble
@list-li-bubble-font-size: 38 * @unit_base;
@list-li-bubble-time-font-size: 26 * @unit_base;
@list-li-bubble-date-font-size: @list-li-bubble-time-font-size;
@list-li-bubble-corner-radius: 9 * @unit_base;	// TODO: fit to 9px (picked from bg images)

/************************/

.ui-listview { 
	margin: 0; 
	counter-reset: listnumbering; 

	// Override default button behavior for listitem
	li.ui-btn-up-s > .ui-li > .ui-btn-text > a.ui-link-inherit,
	li.ui-btn-hover-s > .ui-li > .ui-btn-text > a.ui-link-inherit,
	li.ui-btn-down-s > .ui-li > .ui-btn-text > a.ui-link-inherit {
		font-size: @list-font-size-main;
	}
	
	&> .ui-li { 
		// list item separator line
		border-bottom-width: 1px; 
		border-bottom-style: solid; 
	}
}

.ui-content {
	.ui-listview { 
		margin: -15px; 
	}
	.ui-listview-inset { 
		margin: 1em 0;  
	}
}
.ui-listview, 
.ui-li { 
	list-style:none; 
	padding:0; 
}
.ui-li, 
.ui-li.ui-field-contain { 
	display: block; 
	margin:0; 
	position: relative; 
	overflow: visible; 
	text-align: left;  
}
.ui-li {
	.ui-btn {
		// NOTE: position(:absolute), right(:16px) is defined in jquery.mobile.button.less
		//       Have to cross-check with Wongi!
		
		// vertical center
		top: 50%;
		margin-top: -0.7em;	// TODO: guessed value. Fix this with Wongi.
	}
	.ui-btn-text { 
		position: relative; 
		z-index: 1; 

		a.ui-link-inherit { 
			text-overflow: ellipsis; 
			overflow: hidden; 
			white-space: nowrap;  
		}
	}
	&:last-child, 
	&.ui-field-contain:last-child { 
		border-bottom-width: 1px; 
	}
	&>.ui-btn-inner { 
		display: block; 
		position: relative; 
		padding: 0; 
		border-width:0; 
	}
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static { 
		padding: .7em 15px;
		display: block; 
	}
}
.ui-li-divider, 
.ui-li-static {  
	font-weight: @list-font-weight;  
	padding: 0px @list-li-padding-horizontal;
}
.ui-li-static { 
	font-size: @list-font-size-main;  
}
.ui-li-divider { 
	counter-reset: listnumbering;  
	font-size: @list-font-size-divider;
	// text align: bottom
	padding-top: @list-font-size-divider;
	&.ui-bar-s {
		height : @list-font-size-divider;
	}
}


// Ordered list
ol.ui-listview .ui-link-inherit:before, 
ol.ui-listview .ui-li-static:before, 
.ui-li-dec { 
	font-size: .8em; 
	display: inline-block; 
	padding-right: .3em; 
	font-weight: normal;
	counter-increment: listnumbering; 
	content: counter(listnumbering) ". "; 
}
ol.ui-listview {
	.ui-li-jsnumbering:before { 
		content: "" !important; /* to avoid chance of duplication */
	}
}

// Detailed li styles

.ui-listview-inset {
	.ui-li { 
		border-right-width: 1px; 
		border-left-width: 1px; 
	}
}
.ui-li-has-thumb {
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static  { 
		min-height: 60px; 
		padding-left: 100px; 
	}
}
.ui-li-has-icon {
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static {  
		min-height: 20px; 
		padding-left: 40px; 
	}
}
.ui-li-has-count {
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static { 
		padding-right: 45px; 
	}
}
.ui-li-has-arrow {
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static { 
		padding-right: 30px; 
	}
	&.ui-li-has-count .ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static.ui-li-has-count { 
		padding-right: 75px; 
	}
}
.ui-li-heading { 
	font-size: 16px; 
	font-weight: bold; 
	display: block; 
	margin: .6em 0; 
	text-overflow: ellipsis; 
	overflow: hidden; 
	white-space: nowrap;  
}
.ui-li-desc {  
	font-size: 12px; 
	font-weight: normal; 
	display: block; 
	margin: -.5em 0 .6em; 
	text-overflow: ellipsis; 
	overflow: hidden; 
	white-space: nowrap; 
}
.ui-li-thumb, 
.ui-li-icon { 
	position: absolute; 
	left: 1px; 
	top: 0; 
	max-height: 80px; 
	max-width: 80px; 
}
.ui-li-icon { 
	max-height: 40px; 
	max-width: 40px; 
	left: 10px; 
	top: .9em; 
}
.ui-li-thumb, 
.ui-li-icon, 
.ui-li-content { 
	float: left; 
	margin-right: 10px; 
}
.ui-li-aside { 
	float: right; 
	width: 50%; 
	text-align: right; 
	margin: .3em 0; 
}
@media all and (min-width: 480px){
	 .ui-li-aside { width: 45%; }
}	 
.ui-li-divider { 
	cursor: default; 
}
.ui-li-has-alt {
	.ui-btn-inner a.ui-link-inherit, 
	&.ui-li-static { 
		padding-right: 95px; 
	}
}
.ui-li-has-count {
	.ui-li-count { 
		position: absolute; 
		font-size: 11px; 
		font-weight: bold; 
		padding: .2em .5em; 
		top: 50%; 
		margin-top: -.9em; 
		right: 38px; 
	}
}
.ui-li-divider .ui-li-count, 
.ui-li-static .ui-li-count { 
	right: 10px; 
}
.ui-li-has-alt .ui-li-count { 
	right: 55px; 
}
.ui-li-link-alt { 
	position: absolute; 
	width: 40px; 
	height: 100%; 
	border-width: 0; 
	border-left-width: 1px; 
	top: 0; 
	right: 0; 
	margin: 0; 
	padding: 0; 
	z-index: 2; 

	.ui-btn { 
		overflow: hidden; 
		position: absolute; 
		right: 8px; 
		top: 50%; 
		margin: -11px 0 0 0; 
		border-bottom-width: 1px; 
		z-index: -1;
	}
	.ui-btn-inner { 
		padding: 0; 
		height: 100%; 
		position: absolute; 
		width: 100%; 
		top: 0; 
		left: 0;
	}
	.ui-btn .ui-icon { 
		right: 50%; 
		margin-right: -9px;  
	}
}
.ui-listview * .ui-btn-inner > .ui-btn > .ui-btn-inner { 
	border-top: 0px; 
}

.ui-listview-filter { 
	border-width: 0; 
	overflow: hidden; 
	margin: -15px -15px 15px -15px;

	.ui-input-search { 
		margin: 5px; 
		width: auto; 
		display: block; 
	}
}
.ui-listview-filter-inset { 
	margin: -15px -5px -15px -5px; 
	background: transparent; 
}
.ui-li.ui-screen-hidden {
	display:none;
}
.ui-li-sub, 
.ui-li-sub-setting { 
	float: right; 
	text-align: right; 
	font-size: @list-font-size-sub; 
	margin: .3em 0; 
}


// =======================
// nbeat-black normal list
// =======================
.LESSli-reset-position(@height: @list-li-height) {
	margin: 0;
	padding: 0 16*@unit_base;
	height: @height;
	min-height: @height;
}
.LESStext-main-1line(@left:0px) {
	.ui-li-text-main {
		font-size: @list-font-size-main;
		top: 50%;
		left: @left;
		margin-top: -0.5em;
	}
}
.LESStext-sub-1line() {
	.ui-li-text-sub {
		float: right; 
		text-align: right; 
		font-size: @list-font-size-sub; 
		color: @color_text_sub;
		top: 50%;
		margin-top: -0.5em;
	}
}
.LESStext-sub-setting() {
	.ui-li-text-sub {
		color: @color_text_setting;
	}
}

.LESStext-main-2line(@left:@list-li-padding-horizontal, @top: 10*@unit_base) {
	.ui-li-text-main {
		position: absolute;
		font-size: @list-font-size-main;
		line-height: @list-font-size-main;
		left: @left;
		top: @top;
		//margin-top: -0.5em;
	}
}
.LESStext-sub-2line-left(@left:@list-li-padding-horizontal, @top: 70*@unit_base) {
	.ui-li-text-sub {
		position: absolute;
		font-size: @list-font-size-sub; 
		line-height: @list-font-size-sub;
		color: @color_text_sub;
		left: @left;
		top: @top;
		//margin-top: -0.5em;
	}
}

ul.ui-listview {
	&> li.ui-li-3-1-1,
	&> li.ui-li-3-1-2,
	&> li.ui-li-3-1-3 {
		.LESStext-main-1line;
		.LESStext-sub-1line;
	}
	&> li.ui-li-3-1-3 {
		.LESStext-sub-setting;
	}

	// === 2 line ===
	// text align
	&> li.ui-li-3-2-1,
	&> li.ui-li-3-2-4,
	&> li.ui-li-3-2-5 {
		.LESSli-reset-position;
		.LESStext-main-2line;
		.LESStext-sub-2line-left;
	}
	&> li.ui-li-3-2-2 {
		.LESSli-reset-position;
		.LESStext-main-2line(@list-li-padding-horizontal, 58*@unit_base);
		.LESStext-sub-2line-left(@list-li-padding-horizontal, 10*@unit_base);
	}
	

}

// =========
// bubble li
// =========
.ui-listview {
	.ui-li-bubble-left {
		word-wrap: break-word;
		.LESSborder-radius-topright(@list-li-bubble-corner-radius);
		.LESSborder-radius-bottomright(@list-li-bubble-corner-radius);
		font-size: @list-li-bubble-font-size;
		margin: 12px 20% 12px 0%;
		padding: 16px 22px 16px 16px;
	}
	.ui-li-bubble-right {
		word-wrap: break-word;
		.LESSborder-radius-topleft(@list-li-bubble-corner-radius);
		.LESSborder-radius-bottomleft(@list-li-bubble-corner-radius);
		margin: 12px 0% 12px 20%;
		padding: 16px 16px 16px 22px;
	}
	.ui-li-bubble-sos {
	}
	.ui-li-bubble-date {
		height: 40px;
		font-size: @list-li-bubble-date-font-size;
		margin: 12px 0%;	// no horizontal margin
		padding: 0% 16px;
		padding-top: 15px;
	}
	span.ui-li-bubble-time {
		margin-left: 12px;
		font-size: @list-li-bubble-time-font-size;
		display: inline-block;
	}
}
/* Odd iPad positioning issue. */
@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
    .ui-li .ui-btn-text { 
		overflow:  visible; 
	}
}
